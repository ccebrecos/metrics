<div class="flex flex-col content-center items-center py-8">
  <h1>Metrics viewer</h1>
  <form [formGroup]="selectMetricForm">
    <mat-form-field class="w-full">
      <mat-label>Metric name</mat-label>
      <input id="metricName" type="text" matInput formControlName="metricName"/>
    </mat-form-field>
    <mat-form-field class="w-full">
      <mat-label>Select grouping</mat-label>
      <mat-select formControlName="metricGrouping">
        <mat-option *ngFor="let grouping of groupings" [value]="grouping.value"> {{grouping.label}}</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <button mat-flat-button class="w-full"
            [disabled]=selectMetricForm.invalid
            (click)="triggerQuery()"
    >
      Search
    </button>
  </form>

  <div class="p-5">
    <button mat-flat-button [routerLink]="'/create'">
      Add new metric
    </button>
  </div>
</div>


<div class="graph py-4 px-8">
  <div class="chart-container">
    <canvas id="metrics">{{ chart }}</canvas>
  </div>

  <div class="flex flex-col items-center" *ngIf="!metrics.length">
    <h2 class="text-gray-300">No data available</h2>
  </div>
</div>
